# Deploying Your Fork of BluePills to the Google Play Store

This guide will walk you through the process of taking your forked version of the BluePills project and preparing it for release on the Google Play Store.

## 1. Changing the Package Name

Before you can publish your app, you need to give it a unique package name. The default is `net.hlan.bluepills`. You must change this to your own unique identifier (e.g., `com.yourname.bluepills`).

You need to update the package name in the following files:

1.  **`android/app/build.gradle.kts`**:
    -   Change the `namespace` and `applicationId` to your new package name.

2.  **`android/app/proguard-rules.pro`**:
    -   Update the keep rule to use your new package name:
        ```
        -keep class com.yourname.bluepills.models.** { *; }
        ```

## 2. Creating a Signing Key

To upload your app to the Play Store, it must be signed with a release key.

1.  **Generate a keystore:**
    Run the following command to generate a new keystore file. You will be prompted to create a password. Remember this password.

    ```bash
    keytool -genkey -v -keystore upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload
    ```
    This will create a file named `upload-keystore.jks` in your project's root directory. You should move this file to the `android/app` directory.

2.  **Create `key.properties` file:**
    In the `android` directory, create a file named `key.properties` with the following content. Replace the placeholder values with your own.

    ```
    storePassword=<your-keystore-password>
    keyPassword=<your-key-password>
    keyAlias=upload
    storeFile=upload-keystore.jks
    ```

    **Important:** Do not commit the `upload-keystore.jks` or `key.properties` files to your repository. The `.gitignore` file is already configured to ignore them.

## 3. Setting up GitHub Actions for Automated Releases

This project comes with a pre-configured GitHub Actions workflow to automate the build and release process. To use it, you need to set up the following secrets in your forked repository's settings under "Secrets and variables" > "Actions":

-   **`ANDROID_KEYSTORE_PASSWORD`**: The `storePassword` from your `key.properties` file.
-   **`ANDROID_KEY_PASSWORD`**: The `keyPassword` from your `key.properties` file.
-   **`ANDROID_KEY_ALIAS`**: The `keyAlias` from your `key.properties` file (e.g., `upload`).
-   **`ANDROID_KEYSTORE_BASE64`**: The base64 encoded content of your `upload-keystore.jks` file.

To generate the base64 string for your keystore, run the following command:

```bash
base64 android/app/upload-keystore.jks
```

Copy the entire output of this command and paste it as the value for the `ANDROID_KEYSTORE_BASE64` secret.

## 4. Building and Releasing

Once you have set up the secrets, you can trigger the release workflow in two ways:

1.  **Manually**: Go to the "Actions" tab in your GitHub repository, select the "Release Build & Deploy" workflow, and click the "Run workflow" button.
2.  **By pushing a tag**: Create and push a new tag that starts with `v`.
    ```bash
    git tag v1.0.0 -m "My first release"
    git push origin v1.0.0
    ```

The workflow will build your app, sign it, and create a new release in your GitHub repository with the signed `.aab` file.

## 5. Google Play Console Setup

1.  **Create a Google Play Console account:** Go to [Google Play Console](https://play.google.com/console) and create a developer account. There is a one-time registration fee.
2.  **Create a new app:** Click "Create app" and fill in the details for your app.
3.  **Create an internal test release:** Go to **Testing â†’ Internal testing** and create a new release. Upload the `.aab` file generated by the GitHub Actions workflow.
4.  **Add testers:** Add your email address to the list of testers to get access to the app.

## 6. Preparing Your Store Listing

You will need to provide the following information for your app's store listing:

-   **App name and description:** Write a name and description for your app.
-   **Graphics:**
    -   **App Icon (512x512px)**
    -   **Feature Graphic (1024x500px)**
    -   **Screenshots (2-8 phone screenshots)**
-   **Privacy Policy:** You need to provide a URL for your app's privacy policy. You can use the included `PRIVACY_POLICY.md` as a template and host it on GitHub Pages or another website.
